<!DOCTYPE html>
<html>
<head>
    <title>3D Weather Dashboard</title>
    <style>
        body { 
            font-family: Arial, sans-serif;
            margin: 0;
            padding: 20px;
            background: #f0f8ff;
        }
        .dashboard-container {
            max-width: 1000px;
            margin: 0 auto;
        }
        .weather-card {
            background: white;
            border-radius: 10px;
            padding: 20px;
            box-shadow: 0 0 15px rgba(0,0,0,0.1);
            margin-bottom: 20px;
            cursor: pointer;
            transition: transform 0.3s;
        }
        .weather-card:hover {
            transform: translateY(-5px);
        }
        #weather-visualization {
            width: 100%;
            height: 500px;
            border: 1px solid #ddd;
            border-radius: 8px;
            margin-top: 20px;
        }
        .hidden {
            display: none;
        }
    </style>
</head>
<body>
    <div class="dashboard-container">
        <h1>3D Weather Visualization Dashboard</h1>
        
        <!-- Clickable Weather Card -->
        <div class="weather-card" onclick="toggle3DView()">
            <h2>Current Weather Conditions</h2>
            <div id="weather-summary">
                <p>‚òÅÔ∏è Condition: Cloudy</p>
                <p>üå°Ô∏è Temperature: 28¬∞C</p>
                <p>üå¨Ô∏è Wind: 8kt ‚Üì N</p>
                <p>üëÄ Visibility: 10km</p>
                <p>üõ´ Runway Status: 07R/25L: Dry, 07L/25R: Wet</p>
            </div>
            <p><em>Click anywhere on this card to view 3D visualization</em></p>
        </div>
        
        <!-- 3D Visualization Container -->
        <div id="weather-visualization" class="hidden">
            <!-- Three.js 3D Weather Visualization -->
            <script src="https://cdnjs.cloudflare.com/ajax/libs/three.js/r128/three.min.js"></script>
            <script>
                let scene, camera, renderer, cloudParticles = [];
                
                function init3DWeather() {
                    // Scene setup
                    scene = new THREE.Scene();
                    scene.background = new THREE.Color(0x87CEEB);
                    
                    // Camera setup
                    camera = new THREE.PerspectiveCamera(60, window.innerWidth/window.innerHeight, 1, 1000);
                    camera.position.z = 1;
                    
                    // Renderer setup
                    renderer = new THREE.WebGLRenderer({ antialias: true });
                    renderer.setSize(document.getElementById('weather-visualization').clientWidth, 
                                    document.getElementById('weather-visualization').clientHeight);
                    document.getElementById('weather-visualization').appendChild(renderer.domElement);
                    
                    // Add sunlight
                    const ambient = new THREE.AmbientLight(0x555555);
                    scene.add(ambient);
                    
                    const directionalLight = new THREE.DirectionalLight(0xffeedd);
                    directionalLight.position.set(0, 1, 0);
                    scene.add(directionalLight);
                    
                    // Create clouds
                    const loader = new THREE.TextureLoader();
                    loader.load("https://raw.githubusercontent.com/mrdoob/three.js/dev/examples/textures/sprites/cloud.png", function(texture) {
                        const cloudGeo = new THREE.PlaneBufferGeometry(500, 500);
                        const cloudMaterial = new THREE.MeshLambertMaterial({
                            map: texture,
                            transparent: true
                        });
                        
                        for (let p = 0; p < 10; p++) {
                            const cloud = new THREE.Mesh(cloudGeo, cloudMaterial);
                            cloud.position.set(
                                Math.random() * 800 - 400,
                                100 + Math.random() * 200,
                                Math.random() * 500 - 250
                            );
                            cloud.rotation.x = 1.16;
                            cloud.rotation.y = -0.12;
                            cloud.rotation.z = Math.random() * 2 * Math.PI;
                            cloud.material.opacity = 0.6;
                            scene.add(cloud);
                            cloudParticles.push(cloud);
                        }
                        animate();
                    });
                    
                    // Add rain (if needed)
                    // ... (rain effect code would go here)
                    
                    window.addEventListener('resize', onWindowResize, false);
                }
                
                function animate() {
                    cloudParticles.forEach(p => {
                        p.rotation.z -= 0.002;
                    });
                    renderer.render(scene, camera);
                    requestAnimationFrame(animate);
                }
                
                function onWindowResize() {
                    camera.aspect = document.getElementById('weather-visualization').clientWidth / 
                                     document.getElementById('weather-visualization').clientHeight;
                    camera.updateProjectionMatrix();
                    renderer.setSize(document.getElementById('weather-visualization').clientWidth, 
                                    document.getElementById('weather-visualization').clientHeight);
                }
            </script>
        </div>
        
        <!-- Standard Link -->
        <a href="https://bg300777.github.io/weather-dashboard/" target="_blank" 
           style="display: inline-block; margin-top: 20px; padding: 10px 15px; 
                  background: #4CAF50; color: white; text-decoration: none; border-radius: 5px;">
            Open Full Dashboard in New Tab
        </a>
    </div>

    <script>
        // Toggle 3D view
        function toggle3DView() {
            const visElement = document.getElementById('weather-visualization');
            const summaryElement = document.getElementById('weather-summary');
            
            if (visElement.classList.contains('hidden')) {
                visElement.classList.remove('hidden');
                summaryElement.style.display = 'none';
                init3DWeather();
            } else {
                visElement.classList.add('hidden');
                summaryElement.style.display = 'block';
            }
        }
        
        // Make the entire card clickable as a link
        document.querySelector('.weather-card').addEventListener('click', function() {
            // Optional: window.location.href = "https://bg300777.github.io/weather-dashboard/";
        });
    </script>
</body>
</html>
